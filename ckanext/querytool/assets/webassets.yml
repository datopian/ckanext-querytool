querytool-css:
  filter: cssrewrite
  output: ckanext-querytool/%(version)s-querytool.css
  contents:
    - style.css
    - vendor/bootstrap/css/bootstrap.css

querytool-js:
  output: ckanext-querytool/%(version)s-querytool.js
  extra:
    preload:
      - base/main
      - vendor/bootstrap
      - vendor/jquery
  contents:
    - javascript/adaptive_design.js
    - javascript/anchor_fix.js
    - javascript/vitals.js
    - javascript/modules/fullscreen.js
    - javascript/querytool_data.js
    - javascript/public_query.js
  filter:
    - rjsmin

querytool-image-upload-js:
  filter: rjsmin
  output: ckanext-querytool/%(version)s-querytool-image-upload.js
  extra:
    preload:
      - base/main
  contents:
    - javascript/modules/querytool_image_upload.js

querytool-group-autocomplete-js:
  filter: rjsmin
  output: ckanext-querytool/%(version)s-querytool-autocomplete.js
  extra:
    preload:
      - base/main
      - vendor/bootstrap
  contents:
    - javascript/modules/vs-groups-autocomplete.js

querytool-viz-preview-js:
  filter: rjsmin
  output: ckanext-querytool/%(version)s-viiz-preview.js
  extra:
    preload:
      - base/main
      - vendor/bootstrap
      - vendor/d3/d3.js
      - vendor/c3/c3.js
      - vendor/canvas2image.js
      - vendor/html12canvas.js
      - vendor/nunjucks.js
  contents:
    - javascript/modules/viz-preview.js
    - javascript/modules/viz-preview.js

querytool-group-confirm-action-js:
  filter: rjsmin
  output: ckanext-querytool/%(version)s-querytool-confirm-action.js
  extra:
    preload:
      - vendor/bootstrap
  contents:
    - javascript/modules/group-confirm-action.js
